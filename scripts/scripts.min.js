
function sCursor() {
    var s = $(window).height(),
        o = $(window).width();
    tl.set($(".s-cursor"), {
        y: s / 2 - 40,
        x: o / 2 - 40
    }), $(document).on("mousemove", function(s) {
        tl.set($(".s-cursor"), {
            force3D: !1,
            y: s.clientY - $(".s-cursor").height() / 2,
            x: s.pageX - $(".s-cursor").width() / 2
        })
    })
}


var tl = TweenLite,
    tm = TweenMax;
sCursor(), $(".c-menu, .c-logo, .c-button, .c-back, .s-nav a").on("click", function() {
    tl.set($(".s-cursor"), {
        opacity: 0
    }), tl.set($(".s-cursor"), {
        delay: .1,
        opacity: 1
    })
});


function sGrid() {
    $(".s-grid").each(function() {
        function e() {
            $(n).each(function() {
                var e = $(this);
                if (e.is(":first-child")) var t = $(s).find(".c-column:last .c-visible img").attr("src");
                else var t = $(this).prev().find(".c-visible img").attr("src");
                $(this).find(".c-hidden").html("<img src='" + t + "'>")
            })
        }

        function t() {
            tl.set($(s).find(".c-visible"), {
                yPercent: 0,
                xPercent: 0
            }), tl.set($(n).eq(0).find(".c-hidden"), {
                yPercent: 100
            }), tl.set($(n).eq(1).find(".c-hidden"), {
                xPercent: -100
            }), tl.set($(n).eq(2).find(".c-hidden"), {
                xPercent: 100
            }), tl.set($(n).eq(0).find(".c-hidden img"), {
                yPercent: -80
            }), tl.set($(n).eq(1).find(".c-hidden img"), {
                xPercent: 80
            }), tl.set($(n).eq(2).find(".c-hidden img"), {
                xPercent: -80
            })
        }

        function i() {
            $(s).find(".c-visible").addClass("c-hidden").removeClass("c-visible").siblings().removeClass("c-hidden").addClass("c-visible"), e(), t()
        }
        var s = $(this),
            n = $(s).find(".c-column");
        e(), t(), $(s).on("click", function() {
            tl.to($(".s-cursor .c-icon"), 1, {
                rotation: 360,
                ease: Power3.easeOut,
                clearProps: "all"
            }), tl.to($(n).eq(0).find(".c-visible"), 1, {
                yPercent: -100,
                ease: Power3.easeOut
            }), tl.to($(n).eq(1).find(".c-visible"), 1, {
                xPercent: 100,
                ease: Power3.easeOut
            }), tl.to($(n).eq(2).find(".c-visible"), 1, {
                xPercent: -100,
                ease: Power3.easeOut
            }), tl.to($(n).eq(0).find(".c-visible img"), 1, {
                yPercent: 80,
                ease: Power3.easeOut
            }), tl.to($(n).eq(1).find(".c-visible img"), 1, {
                xPercent: -80,
                ease: Power3.easeOut
            }), tl.to($(n).eq(2).find(".c-visible img"), 1, {
                xPercent: 80,
                ease: Power3.easeOut
            }), tl.to($(n).eq(0).find(".c-hidden"), 1, {
                yPercent: 0,
                ease: Power3.easeOut
            }), tl.to($(n).eq(1).find(".c-hidden"), 1, {
                xPercent: 0,
                ease: Power3.easeOut
            }), tl.to($(n).eq(2).find(".c-hidden"), 1, {
                xPercent: 0,
                ease: Power3.easeOut
            }), tl.to($(n).eq(0).find(".c-hidden img"), 1, {
                yPercent: 0,
                ease: Power3.easeOut
            }), tl.to($(n).eq(1).find(".c-hidden img"), 1, {
                xPercent: 0,
                ease: Power3.easeOut
            }), tl.to($(n).eq(2).find(".c-hidden img"), 1, {
                xPercent: 0,
                ease: Power3.easeOut,
                onComplete: i
            })
        })
    }), $(".s-grid").on("mouseenter", function() {
        $(".s-cursor").addClass("is-rotate"), tl.to($(".s-cursor .c-pointer"), .25, {
            scaleX: 1,
            scaleY: 1
        })
    }), $(".s-grid").on("mouseleave", function() {
        $(".s-cursor").removeClass("is-rotate"), tl.to($(".s-cursor .c-pointer"), .25, {
            scaleX: 0,
            scaleY: 0
        })
    })
}

